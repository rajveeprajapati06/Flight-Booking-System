<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Book a Flight | Skywings</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body class="bg-gradient-to-br from-blue-100 to-blue-300 min-h-screen flex flex-col items-center py-10 scroll-smooth">

    
    <header class="w-full bg-white shadow-md fixed top-0 left-0 z-50">
      <div class="max-w-6xl mx-auto flex justify-between items-center py-4 px-6">
        <h1 class="text-2xl font-bold text-blue-700">‚úàÔ∏è Skywings</h1>
        <nav class="flex items-center space-x-6">
          <a href="index.html" class="text-gray-700 hover:text-blue-700 font-medium">Home</a>

          
          <div class="relative group">
            <button class="text-gray-700 hover:text-blue-700 font-medium flex items-center gap-1">
              Offers <span class="text-sm">‚ñº</span>
            </button>
            <div class="absolute hidden group-hover:block bg-white shadow-lg rounded-md mt-2 w-40">
              <a href="#" class="block px-4 py-2 hover:bg-blue-50">Student Discount</a>
              <a href="#" class="block px-4 py-2 hover:bg-blue-50">Festive Sale</a>
              <a href="#" class="block px-4 py-2 hover:bg-blue-50">Last Minute Deals</a>
            </div>
          </div>

        
          <div class="relative group">
            <button class="text-gray-700 hover:text-blue-700 font-medium flex items-center gap-1">
              Contact <span class="text-sm">‚ñº</span>
            </button>
            <div class="absolute hidden group-hover:block bg-white shadow-lg rounded-md mt-2 w-40">
              <a href="#" class="block px-4 py-2 hover:bg-blue-50">Email Us</a>
              <a href="#" class="block px-4 py-2 hover:bg-blue-50">Call Support</a>
              <a href="#" class="block px-4 py-2 hover:bg-blue-50">Help Center</a>
            </div>
          </div>

          
          <a href="#bookSection" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">Book a Trip</a>
        </nav>
      </div>
    </header>

   
    <div class="pt-28"></div>

    
    <section class="text-center max-w-2xl mb-10">
      <h1 class="text-4xl font-bold text-blue-800 mb-4">Welcome to Skywings Airlines üåç</h1>
      <p class="text-gray-700 text-lg leading-relaxed">
        Plan your next adventure with Skywings! Whether you're flying for business or leisure,
        we make booking easy, affordable, and reliable. Choose your destination and
        let us take care of the rest.
      </p>
    </section>

   
    <div id="bookSection" class="bg-white rounded-3xl shadow-2xl p-8 w-[90%] max-w-md mb-10">
      <h2 class="text-3xl font-bold text-center text-blue-700 mb-6">Book Your Flight ‚úàÔ∏è</h2>
      <form id="bookingForm" class="space-y-4">
        <input type="text" id="name" placeholder="Full Name" required class="w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400">
        <input type="email" id="email" placeholder="Email Address" required class="w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400">

        <select id="destination" required class="w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400">
          <option value="">Select Destination</option>
          <option value="Delhi">Delhi</option>
          <option value="Mumbai">Mumbai</option>
          <option value="Dubai">Dubai</option>
          <option value="Paris">Paris</option>
        </select>

        <input type="date" id="date" required class="w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400">

        <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white w-full py-3 rounded-lg font-semibold transition-all">
          Search Flights
        </button>
      </form>

      <div class="text-center mt-6">
        <a href="#top" class="text-blue-600 hover:underline">‚Üê Back to Top</a>
      </div>
    </div>

    
    <div id="flightDetails" class="bg-white rounded-3xl shadow-xl p-8 w-[90%] max-w-3xl hidden">
      <h3 class="text-2xl font-bold text-blue-700 mb-4">Available Flights</h3>
      <table class="w-full border-collapse border border-gray-300 text-center">
        <thead class="bg-blue-100">
          <tr>
            <th class="border border-gray-300 p-2">Airline</th>
            <th class="border border-gray-300 p-2">Flight No.</th>
            <th class="border border-gray-300 p-2">Departure</th>
            <th class="border border-gray-300 p-2">Arrival</th>
            <th class="border border-gray-300 p-2">Price</th>
            <th class="border border-gray-300 p-2">Action</th>
          </tr>
        </thead>
        <tbody id="flightTable"></tbody>
      </table>
    </div>

   <script>
document.getElementById("bookingForm").addEventListener("submit", (e) => {
  e.preventDefault();

  const name = document.getElementById("name").value;
  const email = document.getElementById("email").value;
  const destination = document.getElementById("destination").value;
  const date = document.getElementById("date").value;

  const flights = JSON.parse(localStorage.getItem("flights")) || [];

  
  const availableFlights = flights.filter(
    f => f.to.toLowerCase() === destination.toLowerCase()
  );

  const tableBody = document.getElementById("flightTable");
  const flightDetailsDiv = document.getElementById("flightDetails");
  tableBody.innerHTML = "";

  if (availableFlights.length === 0) {
    tableBody.innerHTML = `
      <tr><td colspan="6" class="p-3 text-red-500 font-semibold">
        No flights available for ${destination}
      </td></tr>`;
  } else {
    availableFlights.forEach((flight, index) => {
      const row = `
        <tr>
          <td class="border border-gray-300 p-2">${flight.flightName}</td>
          <td class="border border-gray-300 p-2">#SW-${index + 100}</td>
          <td class="border border-gray-300 p-2">${flight.from}</td>
          <td class="border border-gray-300 p-2">${flight.to}</td>
          <td class="border border-gray-300 p-2">‚Çπ${flight.price}</td>
          <td class="border border-gray-300 p-2">
            <button class="bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded"
                    onclick="bookFlight(${index}, '${flight.flightName}', '${flight.from}', '${flight.to}', ${flight.price})">
              Book
            </button>
          </td>
        </tr>`;
      tableBody.insertAdjacentHTML("beforeend", row);
    });
  }

  flightDetailsDiv.classList.remove("hidden");
});

function bookFlight(index, flightName, from, to, price) {
  const name = document.getElementById("name").value;
  const email = document.getElementById("email").value;
  const date = document.getElementById("date").value;

  const bookingData = {
    name,
    email,
    from,
    to,
    date,
    flightName,
    price
  };

  
  localStorage.setItem("bookingInfo", JSON.stringify(bookingData));

  
  const allBookings = JSON.parse(localStorage.getItem("bookings")) || [];
  allBookings.push(bookingData);
  localStorage.setItem("bookings", JSON.stringify(allBookings));

  window.location.href = "confirm.html";
}
</script>



  </body>
</html>
